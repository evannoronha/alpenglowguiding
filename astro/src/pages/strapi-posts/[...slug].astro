---
import { getEntry } from "astro:content";
import MarkdownPostLayout from "../../layouts/MarkdownBlogPostLayout.astro";
import { BlocksRenderer } from "@strapi/blocks-react-renderer";

const { slug } = Astro.params;
console.log(slug);
// @ts-ignore
const post: any = await getEntry("strapiBlog", slug);

if (!post || !post.data) {
  throw new Error(`Post not found: ${slug}`);
}
---

<MarkdownPostLayout frontmatter={post.data}>
  <BlocksRenderer content={post.data.content} />
</MarkdownPostLayout>
