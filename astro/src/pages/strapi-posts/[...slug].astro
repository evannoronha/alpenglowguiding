---
import MarkdownPostLayout from "../../layouts/MarkdownBlogPostLayout.astro";
import { BlocksRenderer } from "@strapi/blocks-react-renderer";
import { getPostBySlug } from "../../lib/strapi";

const { slug } = Astro.params;
console.log(slug);

const post = await getPostBySlug(slug as string);

if (!post) {
  return Astro.redirect("/404");
}
---

<MarkdownPostLayout frontmatter={post}>
  <BlocksRenderer content={post.content} />
</MarkdownPostLayout>
