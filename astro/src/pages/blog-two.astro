---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getAllPosts } from "../lib/strapi";

const allPosts = await getAllPosts();
---

<style>
  .blog-container {
    display: flex;
    flex-direction: column;
    padding: 20px;
    max-width: 120ch;
  }
</style>
<BaseLayout
  title="Blog"
  description="Blog archive for Alpenglow Guiding, a rock climbing instruction and guiding service in the Pacific Northwest. Here you will find stories, photos, trip reports, and current conditions from our time spent in the Cascades and eastern Washington"
>
  <div id="blog">
    <div class="blog-container">
      <h2>Blog</h2>
      <p>
        Welcome to the Alpenglow Guiding blog! Here, you'll find stories,
        photos, and updates from our climbing adventures in the Cascades and
        beyond. Check back often for the latest news!
      </p>
      <ul>
        {
          allPosts.map((post) => (
            <li>
              <a href={`/strapi-posts/${post.slug}`}>{post.title}</a>
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</BaseLayout>
